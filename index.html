<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>

  <div class="site-wrap">

    <h1>Cartagena de Indias</h1>

        <img src="https://img.theculturetrip.com/1440x/smart/wp-content/uploads/2021/04/ffy3yy.jpg" class="align-left slide-in">

    <p>The city of Cartagena was founded on 1 June 1533 by Spanish commander Pedro de Heredia, who took over an abandoned Amerindian Caribbean village known as Calamarí and started building a settlement of his own. The first Spanish settlers were sailors who arrived from Cartagena in Spain to start a new life; they established the town as Cartagena de Indias in reference to the Spanish counterpart.

At this time there were only about 200 inhabitants and a church. In 1552, a fire flattened all the wooden buildings, after which the governor ordered all the replacements to be made from stone. Treasures were discovered in the tombs of the Sinú tribe, who buried their dead with all their riches; this led the city to prosper.

At this time, Spanish riches were transported through Cartagena, earning the city large sums to build mansions; people from all over the country came here looking to make their fortune.</p>

    <img src="https://img.theculturetrip.com/1440x/smart/wp-content/uploads/2021/04/h4d7jr.jpg" class="align-left slide-in">

    <p>At the end of the 16th century, the city identified a need for protection, building a wall and fortress. Then, in the 17th century, the King of Spain ordered Cartagena to become a slave trade hub, further adding to the city riches.</p>

    <img src="https://img.theculturetrip.com/1440x/smart/wp-content/uploads/2021/04/w89nmh.jpg" class="align-right slide-in">

    <p> In 1741, Cartagena became a centerpiece in the war between Britain and Spain. The British forces, led by Edward Vernon, decided to invade every Spanish port in the Caribbean and take the country for their own. The Battle of Cartagena was deadly for both sides, but ended in Spanish victory. After the intense battle, the city was fortified further; the additional defences made Cartagena the most protected port in South America.</p>

    <img src="https://img.theculturetrip.com/1440x/smart/wp-content/uploads/2021/04/2ch3bna.jpg" class="align-left slide-in">

    <p>In 1811, Cartagena was the first city to declare independence from Spain. However, the attempt failed and the city was taken back by Spanish under general Pablo Morillo. A decade later, during the War of Independence, the city was once again the first to declare independence from Spain. The city recovered well and remained an important trade port. <img src="https://img.theculturetrip.com/1440x/smart/wp-content/uploads/2021/04/p6608y.jpg" class="align-right slide-in"> Today, Cartagena has expanded rapidly and is now home to more than 1m inhabitants. It is still the largest port in Colombia, specialising in petrochemicals. Despite all these changes, the walled Old City remains unchanged, with colonial architecture and historic buildings preserved.</p>


    <p>Add some text here. .</p>

    <!-- <img src="http://unsplash.it/400/400" class="align-right slide-in"> -->

    <p>Add some text here. Add some photos too.</p>




  </div>

  <script>



    function debounce(func, wait = 20, immediate = true) {
      var timeout;
      return function() {
        var context = this, args = arguments;
        var later = function() {
          timeout = null;
          if (!immediate) func.apply(context, args);
        };
        var callNow = immediate && !timeout;
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
        if (callNow) func.apply(context, args);
      };
    }

const sliderImages = document.querySelectorAll('.slide-in');

function checkSlide(e) {
    sliderImages.forEach(sliderImage => {
        // half way through the image. ScrollY tells us how far we're srolled down from the top. 
        const slideInAt = (window.scrollY + window.innerHeight) - sliderImage.height / 2;
        // bottom of the image - has to work in reverse. offsetTop tells us how far from the top of the page the image is. We add the sliderImage.height to get the bottom of the image.
        const imageBottom = sliderImage.offsetTop + sliderImage.height;
        // The is the image half shown is true or false.
        const isHalfShown = slideInAt > sliderImage.offsetTop;
        // here we check if the image is not scrolled past. We're making sure that we're not scrolled all the way past the image. If we are we need to slide it out again. 
        const isNotScrolledPast = window.scrollY < imageBottom;
        if(isHalfShown && isNotScrolledPast) {
            sliderImage.classList.add('active');
        } else {
            sliderImage.classList.remove('active');
        }
    })
}
//debouncing means we only run this function for a certain time (in this case 20ms). This is to prevent the function from running too many times.
// any time you're doing something on scroll or resize, you might want to debounce it.
window.addEventListener('scroll', debounce(checkSlide));

  </script>

  <style>
    html {
      box-sizing: border-box;
      background: #ffc600;
      font-family: 'helvetica neue';
      font-size: 20px;
      font-weight: 200;
    }
    
    body {
      margin: 0;
    }
    
    *, *:before, *:after {
      box-sizing: inherit;
    }

    h1 {
      margin-top: 0;
    }

    .site-wrap {
      max-width: 700px;
      margin: 100px auto;
      background: white;
      padding: 40px;
      text-align: justify;
    }

    .align-left {
      float: left;
      margin-right: 20px;
      max-width: 300px;

    }

    .align-right {
      float: right;
      margin-left: 20px;
      max-width:300px;
    }

    .slide-in {
      opacity: 0;
      transition: all .5s;
    }

    .align-left.slide-in {
      transform: translateX(-30%) scale(0.95);
    }
    
    .align-right.slide-in {
      transform: translateX(30%) scale(0.95);
    }

    .slide-in.active {
      opacity: 1;
      transform: translateX(0%) scale(1);
    }

  </style>

</body>
</html>